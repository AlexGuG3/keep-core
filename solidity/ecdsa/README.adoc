:toc: macro
:icons: font

= Keep ECDSA Wallets

// TODO: Add intro

ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:
endif::[]

toc::[]

// TODO: Describe protocol

== Build

The contracts use https://hardhat.org/[*Hardhat*] development
environment. To build and deploy contracts, please follow the instructions
presented below.

=== Prerequisites

Please make sure you have the following prerequisites installed on your machine:

- https://nodejs.org[Node.js] >=14
- https://yarnpkg.com[Yarn] >=1.22

=== Build contracts

To build the smart contracts, install node packages first:

```sh
yarn install
```

Once packages are installed, you can build the smart contracts using:

```sh
yarn build
```

Compiled contracts will land in the `build/` directory.

==== TypeScript Typings

Typings are generated for the contracts in `typechain/` directory.

// FIXME: This project duplicates contracts names with contracts defined in
// @keep-network/random-beacon project (e.g. `DKGValidator`). There is a bug
// https://github.com/dethcrypto/TypeChain/issues/545
// that doesn't handle this case well. As a workaround, we declared a `postbuild`
// where we filter only the artifacts for which we want the typings to be generated.
// We should switch back to default `@typechain/hardhat` behavior once the bug
// is fixed.

=== Test contracts

There are multiple test scenarios living in the `test` directory.
You can run them by doing:

```sh
yarn test
```
